<html>

<head>
  <meta charset="UTF-8">
  <title>Bot binance</title>
  <link rel="stylesheet" type="text/css" href="styles.css"/>
</head>

<body>
    <div>
      <label>BTC price<label>
      <label id="btcPrice">
    </div>
    <div class="allBot">
      <div class="botInfo" id="botInfo1">
        <input type="text" placeholder="API Key">
        <input type="text" placeholder="API Secret">
        <button id="bot1Login">Bot 1 Login</button>
        <button id="bot1Logout">Logout bot1</button>

        <div>
          <label>Balance</label>
          <label id='balance1' class='balance'> </label> 
        </div>
        <div>
          <label>Status</label>
          <label id='status1' class="status"> </label>
        </div>
      </div>
      <div class="botInfo" id="botInfo2">
        <input type="text" placeholder="API Key">
        <input type="text" placeholder="API Secret">
        <button id="bot2Login">Bot2 Login</button>
        <button id="bot2Logout">Logout bot2</button>
        <div>
          <label>Balance</label>
          <label id='balance2' class='balance'> </label>
        </div>
        <div>
          <label>Status</label>
          <label id='status2' class="status"> </label>
        </div>
      </div>
    <div>

    <div id="botInput">
        <div class='botInput_element'>
            <label> Giá vào lệnh</label>
            <input type="number" id="center_price">    
            <label> Biên độ khớp lệnh đầu tiên</label>
            <input type="number" id="gap_first_trade"> 
        </div>
        <div class='botInput_element'>
            <label> Chênh lệch giữa lệnh chính và lệnh bám</label>
            <input type="number" id="trades_gap">    
        </div>
        <div class='botInput_element'>
            <label> Khoảng take profit</label>
            <input type="number" id="take_profit_radius"> 
        </div>
        <div class='botInput_element'>
            <label> Khối lượng 1 lệnh</label>
            <input type="number" id="quantity">
        </div>
        <div id="botControl">
            <button id="start_bot">Start strategy</button>
            <button id="stop_bot">Stop strategy</button>
        </div>
    </div>
    <div>
      <button id="buy">Buy</button>
    </div>
  <script>
    const electron = require('electron');
    const { ipcRenderer } = electron;
    let start_bot = document.getElementById("start_bot");
    let stop_bot = document.getElementById("stop_bot");
    var buy = document.getElementById("buy");
    var bot1Login = document.getElementById("bot1Login");
    var bot2Login = document.getElementById("bot2Login");

    var btcPrice = document.getElementById("btcPrice");
    start_bot.onclick = function(){
      ipcRenderer.send("action:start", 0.001);
    }
    stop_bot.onclick = function(){
      ipcRenderer.send("action:stop");
    }
    bot1Login.onclick = function(){
      ipcRenderer.send("action:login");
    }
    ipcRenderer.on("action:bot1_logined", (event) =>{
      console.log("action:bot1_logined");
      bot1Login.style.display = "none";
    });
    ipcRenderer.on("action:bot2_logined", (event) =>{
      bot2Login.style.display = "none";
    });
    ipcRenderer.on("data:price", (event, current_price) => {
      btcPrice.innerText = current_price;
    });
  </script>
</body>
